---
title: mysql 如何插入一列自增序号
date: 2017-02-18 20:53:25
categories: 数据库那点事
tags: 
	- mysql
	- 自增序号
---
今天看到朋友问的一个问题，“mysql 加一列 叫序号 然后序号自增 怎么搞？”,由于他主要用的是oracle，所以不太了解mysql的用法，然后我就告诉他用rownum就好了，但是他说用了这个没得到效果。
<!--more-->
我想了一下 没啥啊。他说他就想在查询结果中加一个序号列 实现自增，于是我自己建了张表实验一下。

![这里写图片描述](http://img.blog.csdn.net/20161124164205404)

只给了id和name两个字段，方便测试。

![这里写图片描述](http://img.blog.csdn.net/20161124164414499)


随便插入了几条数据（设置了utf-8的格式输入中文就直接???了 不知道怎么回事，估计是数据库编码有点问题，先用英文凑合一下。）

```
select @rd := @rd+1  as rownum, b.name from (select @rd:=0, name from test) b
```
取出name属性，然后给变量rd自增1赋给rownum，看结果：

![这里写图片描述](http://img.blog.csdn.net/20161124164635603)


然后，然后就这么成了 -。- 用变量累加，插入有自增字段的临时表中、如果有唯一标识的字段，也可以用查询解决。
